  // Reactions
  async addReaction(messageId, emoji) {
    return this.request(`/chat/messages/${messageId}/reactions`, {
      method: 'POST',
      body: JSON.stringify({ emoji }),
    });
  }

  async getMessageReactions(messageId) {
    return this.request(`/chat/messages/${messageId}/reactions`, {
      method: 'GET',
    });
  }

  // Pinned messages
  async pinMessage(conversationId, messageId) {
    return this.request(`/chat/conversations/${conversationId}/pin`, {
      method: 'POST',
      body: JSON.stringify({ messageId }),
    });
  }

  async unpinMessage(conversationId, messageId) {
    return this.request(`/chat/conversations/${conversationId}/pin/${messageId}`, {
      method: 'DELETE',
    });
  }

  async getPinnedMessages(conversationId) {
    return this.request(`/chat/conversations/${conversationId}/pinned`, {
      method: 'GET',
    });
  }

  // Search
  async searchMessages(conversationId, query) {
    return this.request(`/chat/conversations/${conversationId}/search?q=${encodeURIComponent(query)}`, {
      method: 'GET',
    });
  }
